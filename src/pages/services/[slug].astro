---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';

export async function getStaticPaths() {
  const services = await getCollection('services');
  return services.map((service) => ({
    params: { slug: service.slug },
    props: { service },
  }));
}

const { service } = Astro.props;
const { Content } = await service.render();

// SEO settings
const pageTitle = service.data.seo?.metaTitle || `${service.data.name} | Floorplay Agency`;
const pageDescription = service.data.seo?.metaDescription || service.data.shortDescription;
const canonicalUrl = `https://floorplay.agency/services/${service.slug}/`;

// FAQ Schema for flooring contractor marketing
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How long does it take to see SEO results for epoxy contractors?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Most epoxy and concrete coating contractors see improved local search rankings within 30-60 days, with significant increases in qualified leads within 90 days. Full SEO results typically develop over 3-6 months as we build your online authority for searches like 'epoxy garage floor' and 'concrete resurfacing'."
      }
    },
    {
      "@type": "Question", 
      "name": "What makes Floorplay different from other marketing agencies?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "We exclusively serve epoxy, concrete surfacing, and basement resurfacing contractors. We understand your specialized industry, target keywords like 'epoxy garage floor [city]' and 'concrete resurfacing near me', and know exactly what motivates homeowners to invest in premium concrete coating services."
      }
    },
    {
      "@type": "Question",
      "name": "Do you work with contractors outside of epoxy and concrete services?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "We specialize exclusively in epoxy flooring, concrete surfacing, and basement resurfacing contractors. We don't work with traditional flooring like LVP, tile, or carpet. Our expertise is in helping concrete coating specialists dominate their local markets."
      }
    },
    {
      "@type": "Question",
      "name": "Can you help my epoxy company rank for multiple cities?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Absolutely! We create location-specific pages optimized for 'epoxy garage floor [city]', 'concrete resurfacing [city]', and 'basement floor coating near me' searches across multiple cities in your service area."
      }
    }
  ]
};

// Image constants removed - using CSS borders instead
---

<Layout 
  title={pageTitle}
  description={pageDescription}
  canonical={canonicalUrl}
>
  <!-- FAQ Schema in head -->
  <script type="application/ld+json" slot="head" set:html={JSON.stringify(faqSchema)}></script>

  <!-- Header Section -->
  <section class="header-section">
    <div class="container">
      <Navigation currentPage="services" />
    </div>
  </section>

  <!-- Service Hero Section -->
  <section class="service-hero">
    <div class="container">
      <div class="service-header">
        <h1 class="service-title" set:html={service.data.headline || service.data.name}></h1>
        <p class="service-description">{service.data.shortDescription}</p>
        
        <div class="service-cta">
          <a href="/free-audit/" class="cta-button primary">
            <span class="cta-text">Get Your Free Strategy Audit</span>
            <span class="cta-arrow">→</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Service Description Section -->
  <section class="description-section">
    <div class="container">
      <div class="description-content">
        <Content />
      </div>
    </div>
  </section>

  <!-- Service Features Section -->
  {service.data.features && service.data.features.length > 0 && (
    <section class="features-section">
      <div class="container">
        <h2 class="section-title">What's Included</h2>
        <div class="features-grid">
          {service.data.features.map((feature) => (
            <div class="feature-item">
              <span class="feature-check">✓</span>
              <span class="feature-text">{feature}</span>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- FAQ Section -->
  <section class="faq-section">
    <div class="container">
      <h2 class="faq-title">Frequently Asked Questions</h2>
      <div class="faq-list">
        {faqSchema.mainEntity.map((faq) => (
          <details class="faq-item">
            <summary class="faq-question">{faq.name}</summary>
            <div class="faq-answer">
              <p>{faq.acceptedAnswer.text}</p>
            </div>
          </details>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="final-cta">
    <div class="container">
      <div class="cta-content">
        <h2 class="cta-title">Ready to Grow Your Business?</h2>
        <p class="cta-description">
          Book a free strategy call to discuss how we can help you dominate local searches and capture more $5k+ jobs.
        </p>
        <div class="cta-buttons">
          <a href="/free-audit/" class="cta-button primary">
            <span class="cta-text">Get Free Audit</span>
            <span class="cta-arrow">→</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <Footer />
</Layout>

<style>
  /* Container */
  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  /* Header Section */
  .header-section {
    background: #ffffff;
    padding: 72px 0;
    position: relative;
    z-index: 1;
  }

  .header {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .logo-nav {
    display: flex;
    justify-content: space-between;
    align-items: end;
  }

  .logo {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .logo-text {
    font-family: 'Big Shoulders Display', sans-serif;
    font-weight: 700;
    font-size: 32px;
    letter-spacing: 1.6px;
    margin: 0;
    line-height: 0.831;
    color: #000000;
  }

  .logo a {
    text-decoration: none;
    color: inherit;
  }

  .logo-tagline {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 14px;
    color: #626262;
    letter-spacing: -0.28px;
    line-height: 1.2;
    text-transform: uppercase;
    margin: 0;
  }

  .nav {
    display: flex;
    gap: 24px;
    align-items: center;
  }

  .nav-link {
    font-family: 'Work Sans', sans-serif;
    font-weight: 600;
    font-size: 16px;
    color: #000000;
    text-decoration: none;
    letter-spacing: 0.8px;
    line-height: 0.831;
    padding: 8px 4px;
    position: relative;
    cursor: pointer;
  }

  .nav-link.active {
    color: #2563eb;
    border-bottom: 2px solid #2563eb;
  }

  .nav-link:hover {
    color: #2563eb;
  }

  .services-link:hover {
    color: #2563eb;
  }

  .nav-cta {
    display: flex;
    align-items: center;
    background: #1e293b;
    color: #ffffff;
    padding: 0;
    border-radius: 4px;
    overflow: hidden;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .nav-cta-text {
    padding: 12px 16px;
    background: #1e293b;
    color: #ffffff;
  }

  .nav-cta-arrow {
    padding: 12px 16px;
    background: #1e293b;
    color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
  }

  .nav-cta.active {
    background: #1e293b;
    border-bottom: none;
  }

  .nav-cta:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
  }

  .divider {
    height: 1px;
    background: #e5e7eb;
    width: 100%;
  }

  /* Service Hero Section */
  .service-hero {
    background: #ffffff;
    padding: 40px 0 60px;
    position: relative;
    z-index: 1;
  }

  .service-header {
    text-align: center;
  }

  .service-title {
    font-family: 'Big Shoulders Display', sans-serif;
    font-weight: 700;
    font-size: 64px;
    color: #000000;
    letter-spacing: -1.28px;
    line-height: 1.1;
    margin: 0 0 24px 0;
    text-wrap: balance;
    text-rendering: optimizeLegibility;
    text-transform: uppercase;
  }

  .service-description {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 24px;
    color: #000000;
    letter-spacing: -0.48px;
    line-height: 1.4;
    margin: 0 0 40px 0;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    text-wrap: pretty;
    text-rendering: optimizeLegibility;
  }

  .service-cta {
    margin-top: 40px;
  }

  /* Description Section */
  .description-section {
    background: #ffffff;
    padding: 60px 0;
  }

  .description-content {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 18px;
    color: #000000;
    letter-spacing: -0.36px;
    line-height: 1.6;
  }

  .description-content h2 {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 48px !important;
    color: #000000;
    letter-spacing: -0.96px;
    line-height: 1.3;
    margin: 32px 0 24px 0;
    text-wrap: balance;
  }

  .description-content h3 {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 32px !important;
    color: #000000;
    letter-spacing: -0.64px;
    line-height: 1.3;
    margin: 32px 0 24px 0;
    text-wrap: balance;
  }

  /* Additional specificity rules */
  div.description-content h2 {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 48px !important;
  }

  div.description-content h3 {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 32px !important;
  }

  .description-content h4 {
    font-family: 'Work Sans', sans-serif;
    font-weight: 700;
    font-size: 24px;
    color: #000000;
    letter-spacing: -0.48px;
    line-height: 1.3;
    margin: 24px 0 16px 0;
  }

  .description-content p {
    margin: 0 0 16px 0;
  }

  .description-content ul,
  .description-content ol {
    margin: 16px 0 24px 0;
    padding-left: 24px;
  }

  .description-content li {
    margin-bottom: 1rem;
  }

  /* CTA Buttons */
  .cta-button {
    text-decoration: none;
    font-family: 'Work Sans', sans-serif;
    font-weight: 700;
    font-size: 18px;
    letter-spacing: -0.36px;
    line-height: 1.3;
    transition: all 0.3s ease;
    white-space: nowrap;
    display: inline-flex;
    align-items: center;
    border-radius: 4px;
    cursor: pointer;
    overflow: hidden;
  }

  .cta-button.primary {
    background: #2563eb;
    color: #ffffff;
    padding: 0;
  }

  .cta-button.primary .cta-text {
    padding: 24px 32px;
    background: #2563eb;
    color: #ffffff;
  }

  .cta-button.primary .cta-arrow {
    padding: 24px 32px;
    background: #1e293b;
    color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 60px;
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
  }

  /* White button override for final CTA section */
  .final-cta .cta-button.primary {
    background: #ffffff;
    color: #000000;
    padding: 0;
    font-size: 20px;
    min-height: 80px;
  }

  .final-cta .cta-button.primary .cta-text {
    background: #ffffff;
    color: #000000;
    padding: 24px 32px;
    font-weight: 700;
    font-size: 20px;
    letter-spacing: -0.4px;
    line-height: 1.3;
  }

  .final-cta .cta-button.primary .cta-arrow {
    background: #1e293b;
    color: #ffffff;
    padding: 24px 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 80px;
    font-size: 24px;
  }

  .final-cta .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
  }

  .final-cta .cta-button.primary:hover .cta-arrow {
    transform: translateX(2px);
  }

  /* Features Section */
  .features-section {
    background: #2563eb;
    padding: 60px 0;
  }

  .section-title {
    font-family: 'Big Shoulders Display', sans-serif;
    font-weight: 700;
    font-size: 48px;
    color: #ffffff;
    letter-spacing: -0.96px;
    line-height: 1.4;
    margin: 0 0 40px 0;
    text-align: center;
    text-wrap: balance;
  }

  .features-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }

  .feature-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }

  .feature-check {
    width: 24px;
    height: 24px;
    background: #ffffff;
    border-radius: 50%;
    color: #2563eb;
    font-weight: 700;
    font-size: 16px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 2px;
  }

  .feature-text {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 18px;
    color: #ffffff;
    letter-spacing: -0.36px;
    line-height: 1.4;
  }

  /* FAQ Section */
  .faq-section {
    background: #f9f6f0;
    padding: 60px 0;
  }

  .faq-title {
    font-family: 'Big Shoulders Display', sans-serif;
    font-weight: 700;
    font-size: 48px;
    color: #1a1309;
    letter-spacing: -0.96px;
    line-height: 1.2;
    margin: 0 0 40px 0;
    text-align: center;
    text-wrap: balance;
  }

  .faq-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
    max-width: 700px;
    margin: 0 auto;
  }

  .faq-item {
    background: #ffffff;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e5e7eb;
  }

  .faq-question {
    font-family: 'Work Sans', sans-serif;
    font-weight: 600;
    font-size: 18px;
    color: #1a1309;
    padding: 20px 24px;
    cursor: pointer;
    list-style: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.3s ease;
    border: none;
    background: #ffffff;
  }

  .faq-question:hover {
    background: #f8f9fa;
  }

  .faq-question::after {
    content: '+';
    font-size: 24px;
    font-weight: 300;
    color: #0040ff;
    transition: transform 0.3s ease;
  }

  .faq-item[open] .faq-question::after {
    transform: rotate(45deg);
  }

  .faq-answer {
    padding: 0 24px 24px;
    border-top: 1px solid #e5e7eb;
  }

  .faq-answer p {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 16px;
    color: #1a1309;
    line-height: 1.5;
    margin: 16px 0 0 0;
  }

  /* Final CTA Section */
  .final-cta {
    background: #2563eb;
    padding: 80px 0;
  }

  .cta-content {
    text-align: center;
  }

  .cta-title {
    font-family: 'Big Shoulders Display', sans-serif;
    font-weight: 700;
    font-size: 48px;
    color: #000000;
    letter-spacing: -0.96px;
    line-height: 1.2;
    margin: 0 0 24px 0;
    text-wrap: balance;
  }

  .cta-description {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 20px;
    color: #000000;
    letter-spacing: -0.4px;
    line-height: 1.4;
    margin: 0 0 40px 0;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }

  .cta-buttons {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 16px;
  }

  /* Footer Section */
  .footer-section {
    background: #000000;
    padding: 80px 0;
  }

  .footer-container {
    display: flex;
    justify-content: center;
    padding: 0 1rem;
  }

  .footer-content {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    width: 860px;
    margin: 0 auto;
    gap: 200px;
  }

  .footer-left {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .footer-logo {
    font-family: 'Work Sans', sans-serif;
    font-weight: 700;
    font-size: 49px;
    color: #ffffff;
    letter-spacing: -0.98px;
    line-height: 1.4;
    margin: 0;
  }

  .footer-tagline {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 16px;
    color: #ffffff;
    letter-spacing: -0.32px;
    line-height: 1.4;
    margin: 0;
    text-wrap: balance;
  }

  .footer-nav {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .footer-link {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 20px;
    color: #ffffff;
    text-decoration: none;
    letter-spacing: -0.4px;
    line-height: 1.4;
    transition: color 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
  }

  .footer-arrow {
    width: 32px;
    height: 32px;
    flex-shrink: 0;
  }

  .footer-link span {
    flex: 1;
  }

  .footer-link:hover {
    color: #2563eb;
  }

  .footer-copyright {
    font-family: 'Work Sans', sans-serif;
    font-weight: 400;
    font-size: 14px;
    color: #838383;
    letter-spacing: -0.28px;
    line-height: 1.4;
    margin: 0;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .header-section {
      padding: 40px 0;
    }

    .logo-nav {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }
    
    .logo-text {
      font-size: 28px;
    }
    
    .nav {
      gap: 16px;
    }
    
    .nav-link {
      font-size: 18px;
    }

    .service-hero {
      padding: 30px 0 50px;
    }
    
    .service-title {
      font-size: 48px;
      letter-spacing: -0.96px;
      text-align: left;
    }
    
    .service-description {
      font-size: 18px;
      letter-spacing: -0.36px;
      margin-bottom: 30px;
      text-align: left;
    }

    .description-section {
      padding: 50px 0;
    }

    .description-content {
      font-size: 16px;
    }

    .description-content h2 {
      font-size: 28px;
      letter-spacing: -0.56px;
    }

    .description-content h3 {
      font-size: 28px;
      letter-spacing: -0.56px;
    }

    .features-grid {
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .faq-section {
      padding: 40px 0;
    }

    .faq-title {
      font-size: 36px;
      letter-spacing: -0.72px;
      margin-bottom: 30px;
    }

    .faq-question {
      font-size: 16px;
      padding: 16px 20px;
    }

    .faq-answer p {
      font-size: 15px;
      margin-top: 12px;
    }

    .cta-title {
      font-size: 28px;
      letter-spacing: -0.56px;
    }

    .cta-description {
      font-size: 18px;
      margin-bottom: 30px;
    }

    .footer-section {
      padding: 50px 0;
    }

    .footer-content {
      flex-direction: column;
      gap: 24px;
    }

    .footer-logo {
      font-size: 32px;
      letter-spacing: -0.64px;
    }

    .footer-link {
      font-size: 18px;
      letter-spacing: -0.36px;
    }

    .footer-arrow {
      width: 28px;
      height: 28px;
    }

    .footer-copyright {
      font-size: 12px;
      letter-spacing: -0.24px;
    }
  }

  /* Highlight styles */
  :global(.highlight-blue) {
    color: #0040ff !important;
  }
  
  :global(h1 .highlight-blue) {
    color: #0040ff !important;
  }

  /* Global heading font overrides */
  :global(.description-content h2) {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 48px !important;
  }

  :global(.description-content h3) {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 32px !important;
  }

  :global(div.description-content h2) {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 48px !important;
  }

  :global(div.description-content h3) {
    font-family: 'Big Shoulders Display', sans-serif !important;
    font-weight: 700 !important;
    font-size: 32px !important;
  }

</style>

